# Video Workflow Worker Configuration

name = "video-workflow"
main = "src/index.ts"
compatibility_date = "2024-12-01"
compatibility_flags = ["nodejs_compat"]
account_id = "52b1c60ff2a24fb21c1ef9a429e63261"

# Worker settings
workers_dev = true

# Workflow binding
[[workflows]]
name = "video-production"
binding = "VIDEO_WORKFLOW"
class_name = "VideoProductionWorkflow"

# D1 Database Binding
[[d1_databases]]
binding = "DB"
database_name = "living-arts-db"
database_id = "c86cbd70-83a2-4950-bb6c-b2c406340dd5"

# R2 Bucket Binding
[[r2_buckets]]
binding = "STORAGE"
bucket_name = "living-arts"

# Environment Variables
[vars]
DE_API_URL = "https://api.distributedelectrons.com"
ENVIRONMENT = "sandbox"  # Options: "sandbox" or "production"

# Secrets (set with: wrangler secret put <NAME>)
# - ANTHROPIC_API_KEY
# - ANTHROPIC_API_KEY_SANDBOX (for testing)
